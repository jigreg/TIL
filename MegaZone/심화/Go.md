# GO Lang

---

## Go 언어

- 컴파일 언어
- 코드 작성이 효율적인 언어, 구문이 단순하고 컴파일러 빨라야함
- scale up vs scale out 
- Go 작업공간 - GOPATH 환경 변수 set GOPATH
- 작업 공간의 기본 디렉토리 : GOPATH=$Home/go, GOPATH=%USERPROFILE%\go
- Go는 다른 언어와 달리 자신의 코드 저장소를 공유하여 패키지를 직접 다운받고 설치 가능

### GO 명령어

- go run [go 파일... | go 패키지] - 작은 프로그램 테스트, Go를 스크립트 언어처럼 사용
- go build [go 파일... | go 패키지] - 바이너리(실행파일) 생성, 최종 베포본 파일 만들기
  
```go
$ go build hello.go
$ go build -o hello_world.exe hello.go
$ go install github.com/rakyll/hey@latest
```
### Code Formatting

- go fmt 
  - 들여쓰기 공백 수정
  - 구조체 항목 정렬
  - 연산자 주변 적절한 공백 사용 체크
- goimports
  - import 문 정리
  - 알파벳 순 정렬
  - 사용되지 않은 import 삭제
  - import 추측 
- 세미클론 삽입 규칙 
  - Go 컴파일러가 자동으로 문장 끝에 세미콜론을 붙여줌
  - 식별자, 기본 리터럴, 토큰들(break, continue, fallthrough, return, '++', '--', ')', '}')

### 개발 도구

- VS Code
- GoLand
- Go Playground

---

## 기본 데이터 타입

- 불리언
- 숫자
  - 정수 - 주로 int 사용, 경우에 따라 byte
  - 실수 
  - 복소수
- 문자열
- 별칭(Alias) : byte(uint8), rune(int32)
- 제로 값 : 선언되었으나 값이 할당되지 않은 변수에 기본 값 제로(0) 할당

### 리터럴

- 코드에 작성하는 값 그 자체 
- 정수 리터럴
    - 10진수, 8진수, 16진수, 2진수 => 접두사 이용(없음, 0o, 0x, 0b)
    - 밑줄 (underscore) : 정수 리터럴 사이에 1_234
- 부동 소수점 리터럴
  - 점(.)
  - e(E) 지수 표현
  - 밑줄 가능
- 룬 리터럴
  - 작은 따옴표
  - 단일 유니코드 문자, 8비트 8진 숫자, 8비트 16진수 숫자, 16비트 16진수 숫자, 32비트 유니코드
  - 이스케이프 시퀀스: '\n', '\t', ... 
- 문자 리터럴
  - 두가지 방법
        1. 해석된 문자열 리터럴 : 큰 따옴표 사용
            - 이스케이프 룬이 처리가 됨
        2. raw 문자열 : 역따옴표(백틱) 사용
```go
package main

import "fmt"

func main() {
	fmt.Println("Hello world!")
	fmt.Println("Greetings and\n\"Salutations\"")
}
```
- 다른 타입으로 선언된 두 정수는 연산 불가능
  - 부동 소수점 변수에 정수 리터럴 사용 가능
  - 정수 변수에 부동소수점 리터럴 사용 가능

- Go 언어는 실용적 언어 => `리터럴에는 타입 X `

### 숫자 타입

- 정수 타입
  - 특수한 경우 아니면 int 사용
  - int 기본 타입
- 특수 정수 타입들
  - byte : uint8 보다 선호
  - int : 플랫폼에 따라서 int32, int 64
  - uint : 플랫폼에 따라서 uint32, uint 64 
  - rune : int32이지만 용도 다름
  - uintptr : 포인터
- 정수 연산자
  - 산술연산자의 결과는 정수
  - 복합 대입 연산자도 지원
  - 비교연산자
  - 비트연산자
  - 논리연산자
  - shift연산자
- 부동소수 타입
  - float32, float64(기본 타입) 
  - %(나머지 연산) 에 대해서는 정의되어 있지 않음
  - 부동소수 변수끼리 ==, != 비교는 가능하나 사용하지 말 것 

### 문자열과 룬

- 문자열
  - 제로 값: 비어있는 문자열
  - 비교연산자 가능
  - 연결연산자(+)
  - 불변(immutable)
  - 큰 따옴표

- 룬
  - 단일 코드 포인트
  - 작은 따옴표
  - int32의 별칭

### 명시적 타입 변환

- Explict(명시적) vs Implicit(암시적, 암묵적)
  - Manual vs Automatic
- 자동 타입 변환
  - 편리
  - 변환 규칙이 복잡, 예기치 못한 결과 초래 가능
- `Go는 자동 타입 변환 불허` => 의도의 명확성 및 가독성 중시 때문 , 명시적으로 타입 변환
- 다른 Go 타입을 불리언으로 취급 X
- 조건식은 반드시 비교식으로 작성 
```go
package main

import "fmt"

func main() {
	var x int16 = 10
	var y int8 = 20
	fmt.Println(x + int16(y))
}

```

### var vs :=

- 변수 선언 스타일에 따른 의도가 존재
- var
  - var 변수 타입 = 값(표현식), 타입 또는 값 생략 가능
  - 값의 타입이 예상 가능하면 타입 생략 가능
  - 값의 생략하면 타입의 제로 값
  - 같은 타입의 여러 변수 또는 다른 타입의 여러 변수 동시 선언 가능
  - 여러 변수의 제로 값 동시 선언 가능
```go
package main

import (
	"fmt"
	"reflect"
)

func main() {
	var x rune
	fmt.Println(x, reflect.TypeOf(x))
}
```
- 다양한 변수를 한 번에 선언
  - 선언리스트를 괄호로 묶음
- := 짧은 선언
  - var 키워드(x)
  - 타입(x)
  - 함수 밖에서는 사용 불가 = package 레벨에서 사용 불가 

### const 사용

- 상수 변수
- 한 번 대입한 값을 변경할 수 없음
- 컴파일 시 값이 결정되어야 함, 즉 변수를 대입 X
- 리터럴에 이름을 부여하는 방법

### 타입 지정 상수와 타입 미지정 상수

- 프로그래밍 의도
- 타입 미지정 상수는 리터럴과 같은 취급
- 타입 지정 상수는 해당 타입 변수에만 할당

### 사용하지 않는 변수 

- 지역 변수는 반드시 사용
- 사용되지 않는 상수도 허용

### 변수와 상수 이름

- Go는 유니코드 문자를 식별자로 허용 / 권장 X
- Go는 관용적으로 스네이크 표기법 사용 X
  - 낙타 표기법
  - 파스칼 표기법
- 상수 : 모든 문자를 대문자, 각 단어는 밑줄로 구분
  - 패키지에 포함된 요소를 외부에 노출시킬지 여부를 식별자의 첫글자가 대소문자 여부로 결정
- 함수 내에서는 짧은 변수 이름 선호
  - 변수의 의미보다 간결성을 선호 

---

## 복합 타입

### 배열(array)

- 같은 타입의 여러 데이터를 담음
- 시퀀스 타입(순서 중요)
- Go에서는 선호 X (특별한 경우에만 사용)
- 선언시 크기 지정, 크기 변경 X
- 배열간 비교 가능(==, !=)
- 배열 인덱스는 범위를 벗어나서는 안되고 음수도 불가
- 선언 방법
   1. 제로 값으로 선언: 배열의 크기와 배열 내 요소 타입 지정
   2. 배열 초깃값 지정: 배열 리터럴 사용
   3. 희소 배열: 대부분의 요소가 0인 배열
   4. 배열 크기 지정 X: 배열 리터럴 필요
   5. 다차원 배열: []의 개수가 차원 수 
- 배열 요소 접근
  - [] 사용
- 배열 길이
  - len() 함수
- Go에서 배열을 잘 사용하지 않는 이유
  - 배열의 크기가 배열의 타입을 결정하는데 사용됨
  - 원소의 타입이 같은 배열이라도 크기가 다르면 다른 타입
  - 크기가 다르면 타입 변환도 불가능

### 슬라이스(Slice)

- 시퀀스를 저장하는 자료구조(순서 중요)
- 슬라이스의 크기는 타입의 일부가 아니다 (배열과의 큰 차이점)
- 슬라이스 간 비교는 불가(배열과 다른 점)
- nil과는 비교 가능
- 슬라이스 길이
  - len() 함수
- 선언 방법
  1. 슬라이스 초깃값 지정: 슬라이스 리터럴
  2. 희소 슬라이스
  3. 다차원 슬라이스
  4. 제로 슬라이스: 슬라이스 리터럴 없이 선언만 하는 것
    - 슬라이스 제로 값은 `nil`
    - nil : 값의 부재 상태
    - nil은 타입이 없음
  5. 비어있는 슬라이스: 슬라이스 리터럴에 초깃밧이 없는 것
