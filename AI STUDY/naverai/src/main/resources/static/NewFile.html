<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>Insert title here</title>
</head>
<body>
<canvas id="camera-output" ></canvas>
<video id="camera-view" autoplay="autoplay" playsinline ></video>
<button id="camera-btn" >사진촬영</button>
<script>
//dom object
var cameraOutput = document.getElementById("camera-output");
var cameraView = document.getElementById("camera-view");
var cameraBtn = document.getElementById("camera-btn");

var constraints = {video : {facingMode : "user"}, audio:false};

window.onload = function(){
	navigator.mediaDevices.getUserMedia(constraints)
	.then(function(stream){
		cameraView.srcObject = stream;
		})
	.catch(function(err){
		console.log("Not working", err);
		})


cameraBtn.onclick = function(){
	cameraOuput.width = cameraView.videoWidth;
	cameraOuput.height = cameraView.videoHeight;
	var cameraContext = cameraOutput.getContext("2d");
	cameraContext.drawImage(cameraView, 0, 0);
}
}
</script>
</body>
</html>
